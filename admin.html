<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FayWooooo 管理後台</title>

  <!-- ✅ 樣式與外部資源 -->
  <link rel="stylesheet" href="css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>
  <script type="module" src="js/supabase-config.js"></script>
<script type="module" src="js/admin.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js"></script>
</head>

<body>
  <header class="topbar">
    <div class="logo"><i class="fa-solid fa-shield-halved"></i> FayWooooo 管理後台</div>
    <nav class="navbar">
      <a href="index.html"><i class="fa-solid fa-house"></i> 返回前台</a>
    </nav>
  </header>

  <main id="adminContent">
    <section id="accessDenied" style="display:none; text-align:center; color:red;">
      🚫 無權限存取
    </section>

    <section id="adminPanel" class="hidden">
      <h1 class="hero-title"><i class="fa-solid fa-gear"></i> 後台管理系統</h1>

      <!-- Fay幣管理 -->
      <div class="card">
        <h2><i class="fa-solid fa-coins"></i> Fay幣管理</h2>
        <input type="email" id="targetEmail" placeholder="輸入玩家 Email" />
        <input type="number" id="coinAmount" placeholder="金額 (增加/減少)" />
        <div style="margin-top:10px;">
          <button id="addCoin" class="main-btn">增加 Fay幣</button>
          <button id="reduceCoin" class="main-btn">減少 Fay幣</button>
          <button id="resetCoin" class="main-btn" style="background:crimson;color:white;">歸零 Fay幣</button>
        </div>
      </div>

      <!-- 公告管理 -->
      <div class="card">
        <h2><i class="fa-solid fa-bullhorn"></i> 公告管理</h2>
        <textarea id="newsContent" placeholder="輸入公告內容..."></textarea>
        <button id="publishNews" class="main-btn" style="margin-top:10px;">發布公告</button>
      </div>

      <!-- 獎勵管理 -->
      <div class="card">
        <h2><i class="fa-solid fa-trophy"></i> 新增獎勵</h2>
        <input type="text" id="rewardTitle" placeholder="獎勵名稱" />
        <input type="text" id="rewardDesc" placeholder="獎勵簡介" />
        <input type="number" id="rewardPrice" placeholder="價格（Fay幣）" />
        <button id="addReward" class="main-btn" style="margin-top:10px;">新增獎勵</button>
      </div>
      <div class="card">
        <h2><i class="fa-solid fa-file-pen"></i> 發布新文章</h2>
        <div style="display: flex; flex-direction: column; gap: 10px;">
          <input type="text" id="artTitle" placeholder="文章標題" />
          <textarea id="artSummary" placeholder="文章摘要 (建議 50 字內)" style="height: 60px;"></textarea>
          <textarea id="artContent" placeholder="文章完整內容 (登入後可見)" style="height: 150px;"></textarea>
          <button id="publishArticle" class="main-btn">
            <i class="fa-solid fa-upload"></i> 發布文章到專區
          </button>
        </div>
      </div>
      <!-- 通知系統 -->
      <div class="card">
        <h2><i class="fa-solid fa-bell"></i> 系統通知</h2>
        <div id="notificationList">載入中...</div>
        <button id="refreshNotifications" class="main-btn" style="margin-top:10px;">重新載入</button>
      </div>

      <!-- 🎟️ Voucher 代碼管理 -->
<div class="card">
  <h2><i class="fa-solid fa-ticket"></i> Fay幣代碼生成</h2>
  <p>每組代碼可領取 <b>100 Fay幣</b></p>

  <input type="number" id="voucherCount" min="1" max="10" placeholder="生成數量 (1~10)">
  <input type="password" id="adminKey" placeholder="輸入管理金鑰 (FAY_ADMIN_123)">
  <button id="createVoucher" class="main-btn" style="margin-top:10px;">生成代碼</button>

  <div id="voucherResult" style="margin-top:10px;">
    <h3>生成結果：</h3>
    <ul id="voucherList" style="list-style:none; padding-left:0;"></ul>
  </div>
</div>

    </section>
  </main>
</body>
</html>
